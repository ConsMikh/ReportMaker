# Формирователь отчетов
## Констекст
Я веду свою базу знаний в Obsidian по системе Zettelcasten. База знаний состоит из заметок. Каждая заметка представляет собой файл в формате Markdown. Для удобства выделяется отдельная категория заметок - ежедневные заметки. От других они отличаются тем, что хранятся в отдельном месте и имеют определенный формат имени - "YYYY-mm-dd". В заметках я помещаю наброски мыслей и веду учет полезно потраченного времени. Этот учет ведет в технике Pomodoro. После выполнения полезной помидорки, она учитывается в ежедневной заметке. Это надо, чтобы потом оценить время, потребовавшееся для выполнения какой-то конкретной задачи и фактически потраченное на определенный вид деятельности.
<br>
Запись о помидорке ведется в формате:<br><br>
Тема: Эпик: Проект: Задача: кол-во потраченных помидорок<br>
Обязательным является только тема и количество помидорок. Остальное может опускаться.<br>
<br>
Пример:<br>
Работа: МояКомпания: ТекущаяСистема: МояЗадача: ++ + <br>
HardSkill: Python: Изучение ООП: 3<br>
<br>
Так как учет помидорок распределен по множеству файлов возникает потребность их агрегировавать и анализировать. Для решения данной проблемы был создан "Формирователь отчетов" (report maker)

## Возможности
При использовании report maker:
- формирует отчеты по периодам времени (недельный, месячный, с даты по дату)
- формирует отчеты по отдельным темам, эпикам, проектам и задачам
- формирует json с отчетом о помидорках за определенный период времени для дальнейшего импорта в аналитические системы (например, PowerBI)
d
## Установка
Установка может быть выполнена с помощью *pip*. Для этого надо скачать репозиторий на локальный компьютер с установленным *python* и распаковать его. В командной сроке, находясь в каталоге репозитория выполнить команду:<br><br>
```
$pip install .
```

## Запуск
Запуск производится из командной строки с помощью команды **repmaker** с дополнительными опциями:
<br>
группа опций **set**:<br>
предназначена для работы с настройками программы<br><br>
--show, -s - показать текущие настройки<br>
--set_default', -sd - установить настройки в значение по умолчанию<br><br>
--group, -g - указать группу параметров<br>
--set_param', -sp - установить значение параметра<br>
--del_param', -dp - удалить параметр<br>
<br>
группы опций **period**, **entity**, **raw**:<br>
предназначены для настройки формирования отчета<br><br>
--type, -t - установить тип формируемого отчета (периодический, за неделю, за месяц)<br>
--entityname, -e - название сущности (темы, эпика, проекта, задачи)<br>
--startdate, -s - установить начальную дату отчета<br>
--enddate, -l - установить конечную дату отчета<br>
--currentperiod, -cp - установить относительный период времени (отчет по номеру недели/месяца, "за прошлую неделю/месяц" и т.д.)<br>
--monthname, -mn - отчет по названию месяца<br>
--year, -y - относительный период времени формируется с учетом указанного года<br>
--structure, -st - структура отчета, определяющая количество и наполнение разделов<br>
--output, -o - вывод отчета (на экран либо в файл)<br>
--reportpath, -rp - явно указанный путь для формирования отчета<br>

## Типовые сценарии применения
### Сформировать отчет за прошлую неделю
Необходимо сформировать полный отчет за прошлую неделю и сохранить его в файл<br>
Команда запуска<br>
```
$repmaker week -cp last -st full -o md
```
Результат: программа проанализирует заметки в папке, указанной в настройках, сформирует отчет с полным составом разделом и сохранит в папке, указанной в настройках

### Сформировать отчет по проекту ReportMaker за все время
Необходимо сформировать краткий отчет по проекту ReportMaker за все время и вывести его на экран<br>
Команда запуска<br>
```
$repmaker entity -t project -e ReportMaker -st short -o screen
```
Результат: программа проанализирует заметки в папке, указанной в настройках, сформирует отчет с полным составом разделом и выведет на экран

### Сформировать отчет по теме Уют за декабрь 2022 года
Необходимо сформировать полный отчет по теме Уют за декабрь 2022 года и вывести его на экран<br>
Команда запуска<br>
```
$repmaker entity -t theme -e Уют -cp 12 -y 2022 -o screen
```
или
```
$repmaker entity -t theme -e Уют -mn dec -y 2022 -o screen
```
Результат: программа проанализирует заметки в папке, указанной в настройках, сформирует отчет с полным составом разделом и выведет на экран

### Сформировать json за прошлый месяц
Необходимо сформировать json с информацией о помидорках для дальнейшего экспорта в аналитическую систему<br>
Команда запуска<br>
```
$repmaker raw -cp last_month
```
Результат: программа проанализирует заметки в папке, указанной в настройках, сформирует json и сохранит в указанную в настройках папку

[Описание настроек](Docs/Settings.md)

[Структура отчета](Docs/Report_struct.md)

[Порядок разработки](Docs/Proj.md)


